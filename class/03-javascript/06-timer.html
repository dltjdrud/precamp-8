<!DOCTYPE html>
<html lang="ko">
<head>
    <title>인증번호 실습</title>
    <script>

        let isStarted = false
        function getToken(){
            if(isStarted === false){
                isStarted =true

                const temp = String(Math.floor(Math.random() * 1000000)).padStart(6, "0")
                document.getElementById("qqq").innerText = temp

                let time = String(document.getElementById("count").innerText)
                time = Number(time.split(":")[0])*60+ Number(time.split(":")[1])
                setInterval(function(){
                    if(time >= 0){
                        const minutes = String(Math.floor(time / 60)).padStart(2, "0")
                        const seconds = String(Math.floor(time % 60)).padStart(2, "0")
                        document.getElementById("count").innerText = minutes + ":" + seconds
                        time = time - 1
                    } 
                }, 1000) 
            } else{
                alert("이미 실행되었습니다!")
            }
        }

    </script>
</head>
<body>
    <span id="qqq">000000</span>
    <button onclick="getToken()">인증번호 전송</button><br/><br/>

    <span id="count">3:0</span>
    <button disabled >인증완료</button>
</body>
</html>